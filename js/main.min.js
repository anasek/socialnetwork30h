"use strict";(function(){var e;var c;$.ajax({url:"js/data/data.json",method:"get",dataType:"json",success:function(g){e=g;d();a()},error:function(g){console.log("error",g)}});function d(){for(var j=0;j<e.length;j++){var h=e[j].id;var k=e[j].firstName;var g=e[j].surname;if(e[j].age===null){e[j].age="/"}$(".users ul").append('<li id="'+h+'"><a href="javascript:void(0)">'+k+" "+g+", "+e[j].age+"</a></li>")}}function f(j,h){for(var g=0;g<j.length;g++){h.append("<li>"+j[g]+"</li>")}}function b(g,h){$(".user-info h2").html(h).addClass("addition");$(".user-info h3").html("Age: "+e[g].age+", "+e[g].gender).addClass("addition");$(".friends h5").html(e[g].firstName+" has "+e[g].friends.length+" friend(s):");$(".friends-of-friends h2").html(e[g].firstName+"'s friends of friends");$(".suggested-friends h2").html("Suggested friends")}function a(){$(".users li").click(function(){var q=($(this).attr("id"));(function o(){for(var j=0;j<e.length;j++){if(q.includes(e[j].id)){c=j}}}());var r=e[c].firstName+" "+e[c].surname;var u=e[c].friends;var v=[];var x=[];var z=[];var h=[];$(".friends ul").html("");$(".friends-of-friends ul").html("");$(".suggested-friends ul").html("");$(".row").css({"border-bottom":"lightblue 2px solid","margin-bottom":"10px"});b(c,r);for(var t=0;t<e.length;t++){if(u.includes(e[t].id)){v.push(e[t].firstName+" "+e[t].surname);var g=e[t].friends;for(var s=0;s<e.length;s++){if(g.includes(e[s].id)&&!u.includes(e[s].id)){x.push(e[s].firstName+" "+e[s].surname)}}}}for(var m=0;m<e.length;m++){if(!(u.includes(e[m].id))){z=e[m].friends;for(var k=0;k<z.length;k++){if((u.includes(z[k]))){h.push(e[m].firstName+" "+e[m].surname)}}}}function y(i){for(var j=0;j<i.length;j++){if(i.includes(r)){var n=i.indexOf(r);i.splice(n,1)}}}y(x);y(h);var w=x.reduce(function(j,i){if(j.indexOf(i)<0){j.push(i)}return j},[]);var l=h.reduce(function(A,p,n,j){if(j.indexOf(p)!==n&&A.indexOf(p)<0){A.push(p)}return A},[]);f(v,$(".friends ul"));f(w,$(".friends-of-friends ul"));if(l.length>0){f(l,$(".suggested-friends ul"))}else{$(".suggested-friends ul").append("<li>Nobody to suggest.</li>")}})}}());